[Main](../README.md)
---

## **Lesson Plan: Python Basics and Scripting**

### **Python Basics**

**Useful Information:**
* Python is an interpreted, high-level programming language
* Known for readability and simplicity
* Extensive standard library makes it great for automation
* Widely used in DevOps, data science, web development, and automation

**Setting Up Python Environment:**

```bash
# Check Python version
python3 --version
python --version

# Access Python interpreter
python3

# Exit interpreter
exit()
# or Ctrl+D

# Run Python script
python3 script.py

# Practice Task 1:
# 1. Check which Python versions are available
# 2. Enter the Python interpreter and print "Hello, World!"
# 3. Exit the interpreter and create your first script
```

**Basic Syntax and Variables:**

```python
# Variables and basic data types
name = "Alice"                  # String
age = 30                        # Integer
height = 5.8                    # Float
is_student = True               # Boolean

# Print output
print("Hello, World!")
print("Name:", name)
print(f"Age: {age}")            # f-string (Python 3.6+)

# Basic operations
x = 10
y = 3
print(x + y)    # Addition: 13
print(x - y)    # Subtraction: 7
print(x * y)    # Multiplication: 30
print(x / y)    # Division: 3.333...
print(x // y)   # Floor division: 3
print(x % y)    # Modulus: 1
print(x ** y)   # Exponentiation: 1000

# Practice Task 2:
# 1. Create variables for your name, age, and favorite color
# 2. Print them using different methods (comma separation, f-strings)
# 3. Calculate and print: (100 + 50) * 2 / 3
```

**Data Types and Type Conversion:**

```python
# Common data types
text = "Hello"                  # str
number = 42                     # int
decimal = 3.14                  # float
flag = True                     # bool
names = ["Alice", "Bob", "Charlie"]  # list

# Type conversion
str_number = "123"
int_number = int(str_number)    # Convert to integer
float_number = float(str_number) # Convert to float

number = 456
str_result = str(number)        # Convert to string

# Type checking
print(type(text))               # <class 'str'>
print(type(number))             # <class 'int'>
print(isinstance(text, str))    # True

# Practice Task 3:
# 1. Create variables of different types and check their types
# 2. Convert a string "99.5" to float and then to integer
# 3. Try converting text "hello" to integer - what happens?
```

**Strings and String Methods:**

```python
# String basics
name = "Python Programming"
print(len(name))                # 18
print(name[0])                  # 'P' (first character)
print(name[-1])                 # 'g' (last character)

# String methods
print(name.upper())             # "PYTHON PROGRAMMING"
print(name.lower())             # "python programming"
print(name.title())             # "Python Programming"
print("  hello  ".strip())      # "hello"
print(name.replace("Python", "Java"))  # "Java Programming"

# String formatting
language = "Python"
version = 3.9
print(f"We are learning {language} version {version}")
print("We are learning {} version {}".format(language, version))

# Practice Task 4:
# 1. Create a string with your full name in lowercase
# 2. Convert it to proper case (first letter of each word capitalized)
# 3. Count how many letters are in your name (excluding spaces)
# 4. Replace your first name with "Student"
```

**Lists and Basic Collections:**

```python
# Lists - ordered, mutable collections
fruits = ["apple", "banana", "cherry"]
numbers = [1, 2, 3, 4, 5]

# List operations
fruits.append("orange")         # Add item
fruits.insert(1, "blueberry")   # Insert at position
fruits.remove("banana")         # Remove item
last_fruit = fruits.pop()       # Remove and return last item

# List slicing
print(numbers[1:3])             # [2, 3] (slice from index 1 to 2)
print(numbers[:3])              # [1, 2, 3] (first three)
print(numbers[2:])              # [3, 4, 5] (from index 2 to end)

# List methods
print(len(fruits))              # Length of list
print("apple" in fruits)        # Check if item exists
fruits.sort()                   # Sort alphabetically
numbers.reverse()               # Reverse the list

# Practice Task 5:
# 1. Create a list of 5 programming languages
# 2. Add two more languages to the list
# 3. Remove the second language from the list
# 4. Sort the list alphabetically
# 5. Print the first and last languages
```

**Dictionaries (Key-Value Pairs):**

```python
# Dictionaries - key-value pairs
student = {
    "name": "Alice",
    "age": 20,
    "courses": ["Math", "Science"],
    "gpa": 3.8
}

# Accessing values
print(student["name"])           # "Alice"
print(student.get("age"))        # 20
print(student.get("phone", "Not available"))  # Default value

# Modifying dictionaries
student["age"] = 21              # Update value
student["phone"] = "555-1234"    # Add new key-value
del student["gpa"]               # Remove key-value

# Dictionary methods
print(student.keys())            # List of keys
print(student.values())          # List of values
print(student.items())           # List of key-value pairs

# Practice Task 6:
# 1. Create a dictionary with your personal information
# 2. Add a new key "skills" with a list of your skills
# 3. Update your age
# 4. Print all keys and values separately
```

**Control Structures:**

```python
# If-elif-else statements
age = 18

if age < 13:
    print("Child")
elif age < 20:
    print("Teenager")
else:
    print("Adult")

# Multiple conditions
temperature = 25
is_sunny = True

if temperature > 20 and is_sunny:
    print("Great weather for walking!")

# Practice Task 7:
# 1. Write a program that checks if a number is positive, negative, or zero
# 2. Write a program that checks if a person can vote (18+ years)
# 3. Check if a year is a leap year (divisible by 4, but not 100 unless also divisible by 400)
```

**Loops:**

```python
# For loops
fruits = ["apple", "banana", "cherry"]

for fruit in fruits:
    print(fruit)

for i in range(5):              # 0 to 4
    print(i)

for i in range(1, 6):           # 1 to 5
    print(i)

# While loops
count = 5
while count > 0:
    print(count)
    count -= 1

# Loop control
for i in range(10):
    if i == 3:
        continue                # Skip this iteration
    if i == 7:
        break                   # Exit loop
    print(i)

# Practice Task 8:
# 1. Print numbers from 1 to 10 using for loop
# 2. Print even numbers from 2 to 20 using while loop
# 3. Iterate through a list of names and print each name in uppercase
```

**Functions:**

```python
# Basic function
def greet(name):
    return f"Hello, {name}!"

# Function with multiple parameters
def calculate_area(length, width):
    area = length * width
    return area

# Function with default parameter
def introduce(name, age=20):
    print(f"My name is {name} and I'm {age} years old")

# Calling functions
message = greet("Alice")
print(message)

room_area = calculate_area(5, 4)
print(f"Area: {room_area}")

introduce("Bob")
introduce("Charlie", 25)

# Practice Task 9:
# 1. Write a function that converts Celsius to Fahrenheit
# 2. Write a function that checks if a number is prime
# 3. Write a function that takes a list and returns the sum of its elements
```

**Best Practices:**
* Use descriptive variable names
* Follow PEP 8 style guide
* Write docstrings for functions
* Use meaningful function and variable names
* Handle exceptions properly
* Keep functions small and focused

---

### **Python Scripting**

**Useful Information:**
* Python scripts are perfect for automation, file processing, and system administration
* Can interact with operating system, files, and other programs
* Great for DevOps tasks, log analysis, and batch processing

**File Operations:**

```python
# Reading files
with open('example.txt', 'r') as file:
    content = file.read()
    print(content)

# Reading line by line
with open('example.txt', 'r') as file:
    for line in file:
        print(line.strip())      # strip() removes newline characters

# Writing files
with open('output.txt', 'w') as file:
    file.write("Hello, World!\n")
    file.write("This is a new line\n")

# Appending to files
with open('output.txt', 'a') as file:
    file.write("This line was appended\n")

# Practice Task 10:
# 1. Create a text file with 5 lines of text
# 2. Write a script that reads the file and prints each line with line numbers
# 3. Create a new file that contains the original content in uppercase
```

**Working with Command Line Arguments:**

```python
import sys

# Basic command line arguments
print("Script name:", sys.argv[0])
print("Arguments:", sys.argv[1:])

# Practice Task 11:
# 1. Create a script that takes a filename as argument and counts its lines
# 2. Add a --verbose flag that shows progress information
# 3. Add a --output flag to specify output file
```

**Working with OS and File System:**

```python
import os
import shutil

# File and directory operations
print("Current directory:", os.getcwd())
files = os.listdir('.')          # List files in current directory
print("Files:", files)

# Check if file/directory exists
if os.path.exists('myfile.txt'):
    print("File exists")

# Create directory
os.makedirs('new_directory', exist_ok=True)

# Copy file
shutil.copy('source.txt', 'destination.txt')

# Get file information
file_stats = os.stat('example.txt')
print(f"File size: {file_stats.st_size} bytes")

# Practice Task 12:
# 1. Create a script that lists all files in current directory with their sizes
# 2. Create a backup script that copies all .txt files to a backup directory
# 3. Write a script that finds the largest file in a directory
```

**Error Handling:**

```python
# Basic exception handling
try:
    number = int(input("Enter a number: "))
    result = 10 / number
    print(f"Result: {result}")
except ValueError:
    print("That's not a valid number!")
except ZeroDivisionError:
    print("You can't divide by zero!")
except Exception as e:
    print(f"An error occurred: {e}")
else:
    print("Operation completed successfully")
finally:
    print("This always runs")

# Practice Task 13:
# 1. Write a script that safely opens a file (handle FileNotFoundError)
# 2. Create a calculator that handles division by zero and invalid input
# 3. Write a function that retries an operation on failure
```

### **Task 2: SSH Key Authentication and System Monitoring**

```python
import paramiko

def connect_ssh_password(hostname, username, password, port=22):
    try:
        print(f"üîó Connecting to {username}@{hostname}:{port}")
        client = paramiko.SSHClient()
        client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
        client.connect(hostname, username=username, password=password, port=port, timeout=10)
        print("‚úÖ Connection successful!")
        return client
    except Exception as e:
        print(f"‚ùå Connection failed: {e}")
        return None

def connect_ssh_key(hostname, username, key_path, port=22):
    try:
        print(f"üîë Connecting with key: {key_path}")
        client = paramiko.SSHClient()
        client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
        client.connect(hostname, username=username, key_filename=key_path, port=port, timeout=10)
        print("‚úÖ Key authentication successful!")
        return client
    except Exception as e:
        print(f"‚ùå Connection failed: {e}")
        return None

def execute_remote_command(client, command):
    try:
        print(f"üñ•Ô∏è  Executing: {command}")
        stdin, stdout, stderr = client.exec_command(command)
        
        # Wait for command to complete
        exit_code = stdout.channel.recv_exit_status()
        stdout_text = stdout.read().decode('utf-8').strip()
        stderr_text = stderr.read().decode('utf-8').strip()
        
        print(f"üìä Exit code: {exit_code}")
        if stdout_text:
            print(f"üìÑ Output:\n{stdout_text}")
        if stderr_text:
            print(f"‚ö†Ô∏è  Errors:\n{stderr_text}")
            
        return exit_code, stdout_text, stderr_text
    except Exception as e:
        print(f"‚ùå Command failed: {e}")
        return -1, "", str(e)

exit_code, output, error = execute_remote_command(client, "ip a")

print(f"Exit code: {exit_code}")
print(f"Standart output: {output}")
print(f"Standart error: {error}")
```

**Practice Task 14:**
1. Create a script that renames all files in a directory with a prefix
2. Write a script that finds duplicate files based on size and content
3. Create a simple backup script that compresses a directory

**Best Practices for Scripting:**
* Always use `if __name__ == "__main__":` guard
* Use argparse for command-line interfaces
* Implement proper error handling
* Add logging for debugging
* Write docstrings and comments
* Make scripts executable with shebang

---

## **Homework Assignment: Python Automation**

**Instructions:** Complete all tasks and place scripts in `~/python_homework/`. Include a `README.md` with usage instructions.

**Tasks:**

1. **System Monitoring Tool**
   Create `system_monitor.py` that:
   - Monitors CPU, memory, and disk usage
   - Logs the data to a file with timestamps
   - Sends alerts when usage exceeds thresholds
   - Can run as a daemon with configurable intervals
   - Generates daily summary reports

2. **File Management Utility**
   Create `file_manager.py` that:
   - Organizes files by type/extension
   - Finds and removes duplicate files
   - Renames files in bulk with patterns
   - Can sync directories
   - Has a dry-run mode to preview changes

3. **Log Analysis Script**
   Create `log_analyzer.py` that:
   - Parses Apache/Nginx style log files
   - Identifies most frequent IP addresses
   - Detects error patterns and suspicious activity
   - Generates summary reports
   - Can monitor log files in real-time

4. **Configuration Management**
   Create `config_manager.py` that:
   - Reads JSON/YAML configuration files
   - Validates configuration settings
   - Can merge multiple config files
   - Generates configuration templates
   - Has backup/restore functionality

**Submission Requirements:**
- All Python scripts in `~/python_homework/`
- Configuration files and sample data
- Documentation in README.md
- Example usage and output
- Error handling and input validation

**Bonus Challenge:**
Create a web dashboard using Flask that displays the system monitoring data in real-time.

This homework will give students practical Python scripting experience for real-world DevOps and automation tasks!

[Main](../README.md)
---